
<!DOCTYPE html>

<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suma de Vectors Nàutics: Vaixell, Vent i Corrent</title>
    <script>
        // Les baerres inclinades són comentaris de javascript, aquest codi que hi ha entre script
        //Es un llenguatje diferent a html, es java script
        /*M
        comentari multlinea
        A sota tenim un codi javascript que configura de configuració de mathjax, que permet  renderitzar (visulaitzar bé)
        les formules matematiques en una pagina web. MathJax utilitza dos tipues de llenguatjes matematics: TeX/LaTeX i MthML
        TeX es pronuncia tech i LaTeX  significa LAMPORT que es el cognom de la perosna que va mdoficiar TeX per fero com mes
        facil, MathML es un llenguatge mes model semblant al HTML, ML  significa Markup langugae, llenguatje de marces MathML 
        es molt semblant a HTML, pero es mes llarg que LaTeX.    
        */
        window.MathJax = {
            /*Crea una variable global anomenada window.MathJex que es carregara quan es carregi la pagina web al principi i 
            fara que quan tenim les formules en liena ies a dir Text normal i una formula en la mateixa liena hem d'escriure 
            al principi i al final un o dos dolars. Potser ala mateixa linia o en el mateix parragraf  sense salt de liena ni centrats.
            */
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' } //svg vol dir vectors grafics escalables es poden fer molt grans o molt petites.
            //les imatges poden ser dos tipues svg o mapa de bit.Els mapes de bit estan depixels i son els png o jpg
            //o gif. Els svg son millors que esl mapes d ebit perque son formules matematiques  i ens permesten fer dibuixos 
            //perfectes.
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        /*Hi ha tres grans families de lletres sans-serif, serif i monospace
        Serif en frances o internacionalment serifada o amb  adornaments, es quan una lletra te uns remats
        Sans-serif significa sense serif, es a diir sense cap mena d'adorn.
        mono space significa lletra mono espaciada que ocpa lletra el mateix ample es util per codi perque
        els espais en blanc  poden ser mollt importants.
        Diferencia entre serif sanserif monospace.
        Model de caixes css o box model css en el box model tenim una capa al voltant del
        contingut o content que es diu padding al voltant del padding es troba el border i al voltant  del border es troba al margin.
        Margin border i padding  son propietats css ( propietats) que van seguidas de dos punts  i un valor o value en pixels
        Tots els css son iguals primer es posa el nom de la etiqueta html o tag a la cual volem donar-li un o diverses estils per expmple
        h2 button o canvas... Despres del tag es posa una clau de tipus "curly bracket" i a sota es posa propietat1:valor1; i en la linea
        següent propietat2:valor2; si la propietat es colorel valor es  #333, el numero 333 no es un numero decimal es un numero exadecinmal 
        en base 16. Vol dir que els numeros hexadecimals son 0 al 9(vol dir 10) A,(10) B(11) C(12) D(13) E(14) F(15)
        Els codis de color tenen tres valors de hexadecimals que van del 00 del FF, es a dr  si tinc una cokbinacio que anira desde al 000000
        fins  al FFFFFF. Els dos primers digits son de color vermell, els  dos segÜents son el color verd, i el s dos ultims son blaus.
        Recordar rgb(red,green,blue)Quantes combinacions  de colors blancs tenim? 256 elevt a la 3=6 millions 700mil colors diferents.
        El color pot expresar en hexadecimal o en rgb en decimal, per exmple #F0000, es 255,0,0 es pot expresar d'una altre manera
        Avegades noms en angles com red o nims que puc trobar amb color  names  html en google. h2  de la linea 53 controla el h2 que es troba
         a la linea 68 i el #333 es el color gris. Llavors que f ala linea 54 i la linea 58? Fa que  el titol  de la linea 68 sigui gris*/
        h2 { color: #333; }
        input[type="number"] { width: 70px; margin-right: 10px; }
        /*input es una ertiqueta html  que permet l'entrada de dades per ñl'usuari i al tipus de number nomes accepta nunmeros, 
         com podem veure a linea 56 i a la linea no accepta lletra com veiem a la linea 100 in put es como iuna caixa de text  
        perque escrigui l'usuari i tindra una amplada definida a la linea 56 amb css, with  es amplada en ingles, i amb 70 pixels d'mplada
        puc escriute d'un numero d'ample i  perque deixo  marge a la dreta de 10 pixels? Per tenir espai i no s'uneix
        l'entrada d'informacio amb l'entrada de l'usuari, seria un marge dintre d ela caixa */
        button { padding: 8px 16px; margin-top: 10px; cursor: pointer; }
        /*A la 613 tinc  la vonfiguracio del boto o de tots els botons que esta a la 114 i que ens permet calcular
        quan cliko. Aqesuesta boto te paddingo marge interior, quan hi ha dos numeros 8pixels i 16 pixels si hi ha un numero
        significa que els marges estan en els cuatre costats i son iguals a aquest numero, si hi ha dos numeros el primer numero
        es el mateix adalt i abaix  i el segon numero es a la dreta i a la esquerra en aques 
        cas 8 pixels adalt i abaix i 16 pixels a ala dreta i a al desquwerra si hi hgaues 3 numeros  el primer es adlat,
        el segon dreta i esquetrra i el terces numero es abaic margin top es un altree forma de regular el marge superior 
        tambe existeixen margin-button margin rwite margin left*/
        .result { margin-top: 20px; background-color: #f0f0f0; padding: 10px; border-radius: 5px; }
        canvas { border: 1px solid #ccc; margin-top: 20px; background-color: #f9f9f9; }
        .teoria { background: #eef; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <h1>Suma de Vectors Nàutics: Vaixell, Vent i Corrent</h1>


<div class="teoria">
    <h2>Recordatori Teòric</h2>
    <p>Per un vector de mòdul $V$ i rumb $\theta$ (en graus):</p>
    <ul>
        <li>$\theta_{rad} = \theta \cdot \pi / 180$</li>
        <li>Component horitzontal (X): $V_x = V \cdot \sin(\theta_{rad})$</li>
        <li>Component vertical (Y): $V_y = V \cdot \cos(\theta_{rad})$</li>
    </ul>
    <p>Suma de vectors:</p>
    <ul>
        <li>$R_x = V_x + W_x + C_x$</li>
        <li>$R_y = V_y + W_y + C_y$</li>
    </ul>
    <p>Vector resultant:</p>
    <ul>
        <li>$|R| = \sqrt{R_x^2 + R_y^2}$</li>
        <li>$\theta_R = \arctan\left(\frac{R_x}{R_y}\right)$</li>
    </ul>
</div>

<p>Introdueix els vectors (rumb en graus i velocitat en nusos) i clica "Calcula".</p>

<div>
    <h2>Vector del Vaixell ($\vec{V}$)</h2>
    Rumb: <input type="number" id="vRumb" value="146">°
    Velocitat: <input type="number" id="vVel" value="10"> nusos
</div>

<div>
    <h2>Vector del Vent ($\vec{W}$)</h2>
    Rumb: <input type="number" id="wRumb" value="240">°
    Velocitat: <input type="number" id="wVel" value="5"> nusos
</div>

<div>
    <h2>Vector del Corrent ($\vec{C}$)</h2>
    Rumb: <input type="number" id="cRumb" value="30">°
    Velocitat: <input type="number" id="cVel" value="3"> nusos
</div>

<button onclick="calculaVectors()">Calcula</button>

<div id="result" class="result" style="display:none;"></div>
<canvas id="canvas" width="500" height="500" style="display:none;"></canvas>

<script>
    function calculaVectors() {
        const vRumb = parseFloat(document.getElementById('vRumb').value);
        const vVel = parseFloat(document.getElementById('vVel').value);
        const wRumb = parseFloat(document.getElementById('wRumb').value);
        const wVel = parseFloat(document.getElementById('wVel').value);
        const cRumb = parseFloat(document.getElementById('cRumb').value);
        const cVel = parseFloat(document.getElementById('cVel').value);

        const degToRad = Math.PI / 180;
        const vRad = vRumb * degToRad;
        const wRad = wRumb * degToRad;
        const cRad = cRumb * degToRad;

        const Vx = vVel * Math.sin(vRad);
        const Vy = vVel * Math.cos(vRad);
        const Wx = wVel * Math.sin(wRad);
        const Wy = wVel * Math.cos(wRad);
        const Cx = cVel * Math.sin(cRad);
        const Cy = cVel * Math.cos(cRad);

        const Rx = Vx + Wx + Cx;
        const Ry = Vy + Wy + Cy;
        const Rmag = Math.sqrt(Rx**2 + Ry**2);
        let Rdeg = Math.atan2(Rx, Ry) * 180 / Math.PI;
        if (Rdeg < 0) Rdeg += 360;

        const resultDiv = document.getElementById('result');
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
            <h2>Resultats pas a pas</h2>

            <p><strong>Conversió a radians:</strong></p>
            <ul>
                <li>$${vRumb}^\\circ \\cdot \\pi/180 = ${(vRad).toFixed(3)} \\, rad$</li>
                <li>$${wRumb}^\\circ \\cdot \\pi/180 = ${(wRad).toFixed(3)} \\, rad$</li>
                <li>$${cRumb}^\\circ \\cdot \\pi/180 = ${(cRad).toFixed(3)} \\, rad$</li>
            </ul>

            <p><strong>Components (usant sin i cos):</strong></p>
            <ul>
                <li>$V_x = ${vVel} \\cdot \\sin(${vRumb}^\\circ) = ${Vx.toFixed(3)}$</li>
                <li>$V_y = ${vVel} \\cdot \\cos(${vRumb}^\\circ) = ${Vy.toFixed(3)}$</li>
                <li>$W_x = ${wVel} \\cdot \\sin(${wRumb}^\\circ) = ${Wx.toFixed(3)}$</li>
                <li>$W_y = ${wVel} \\cdot \\cos(${wRumb}^\\circ) = ${Wy.toFixed(3)}$</li>
                <li>$C_x = ${cVel} \\cdot \\sin(${cRumb}^\\circ) = ${Cx.toFixed(3)}$</li>
                <li>$C_y = ${cVel} \\cdot \\cos(${cRumb}^\\circ) = ${Cy.toFixed(3)}$</li>
            </ul>

            <p><strong>Suma de components:</strong></p>
            <ul>
                <li>$R_x = ${Vx.toFixed(3)} + ${Wx.toFixed(3)} + ${Cx.toFixed(3)} = ${Rx.toFixed(3)}$</li>
                <li>$R_y = ${Vy.toFixed(3)} + ${Wy.toFixed(3)} + ${Cy.toFixed(3)} = ${Ry.toFixed(3)}$</li>
            </ul>

            <p><strong>Mòdul (teorema de Pitàgores):</strong></p>
            <p>$|R| = \\sqrt{(${Rx.toFixed(3)})^2 + (${Ry.toFixed(3)})^2} = ${Rmag.toFixed(2)} \\, nusos$</p>

            <p><strong>Rumb (funció arctan):</strong></p>
            <p>$\\theta_R = \\arctan\\left(\\frac{${Rx.toFixed(3)}}{${Ry.toFixed(3)}}\\right) = ${Rdeg.toFixed(2)}^\\circ$</p>
        `;
        MathJax.typeset();

        const canvas = document.getElementById('canvas');
        canvas.style.display = 'block';
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        const cx0 = canvas.width/2;
        const cy0 = canvas.height/2;
        const scale = 15;

        function drawVector(x, y, color, label) {
            ctx.beginPath();
            ctx.moveTo(cx0, cy0);
            ctx.lineTo(cx0 + x*scale, cy0 - y*scale);
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.stroke();

            const angle = Math.atan2(-y, x);
            const headLength = 10;
            ctx.beginPath();
            ctx.moveTo(cx0 + x*scale, cy0 - y*scale);
            ctx.lineTo(cx0 + x*scale - headLength*Math.cos(angle - Math.PI/6),
                       cy0 - y*scale + headLength*Math.sin(angle - Math.PI/6));
            ctx.lineTo(cx0 + x*scale - headLength*Math.cos(angle + Math.PI/6),
                       cy0 - y*scale + headLength*Math.sin(angle + Math.PI/6));
            ctx.lineTo(cx0 + x*scale, cy0 - y*scale);
            ctx.fillStyle = color;
            ctx.fill();

            ctx.fillStyle = color;
            ctx.font = "14px Arial";
            ctx.fillText(label, cx0 + x*scale + 5, cy0 - y*scale - 5);
        }

        drawVector(Vx, Vy, 'blue', 'V');
        drawVector(Wx, Wy, 'green', 'W');
        drawVector(Cx, Cy, 'orange', 'C');
        drawVector(Rx, Ry, 'red', 'R');
    }
</script>

</body>
</html>
